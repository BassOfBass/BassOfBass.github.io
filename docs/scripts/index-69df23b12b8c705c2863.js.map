{"version":3,"sources":["webpack://github-site/./src/lib/_index.js","webpack://github-site/./src/pages/_index.js","webpack://github-site/./src/pages/previews/previews.js","webpack://github-site/./src/pages/previews/editable-textarea.js","webpack://github-site/./src/pages/previews/table-stuff/table-stuff.js","webpack://github-site/./src/components/_index.js","webpack://github-site/./src/index.js"],"names":["nanoidHTML","nanoid","SiteSection","name","callback","this","selector","id","sections","section","form","querySelector","addEventListener","event","preventDefault","textArea","code","innerText","value","Prism","selectedCell","table","cellEditor","editorInput","stopPropagation","cell","tableCell","target","classList","contains","remove","add","toggle","textContent","appendChild","focus","components","Map","document","container","main","globalFooter","activeSections","push","filterSections","querySelectorAll","forEach","component","set","className"],"mappings":"oIAsBO,SAASA,IACd,kBAAWC,W,yDClBN,IAAMC,EAKX,WAAYC,EAAMC,IAAU,eAC1BC,KAAKF,KAAOA,EACZE,KAAKD,SAAWA,EAChBC,KAAKC,SAAL,gCAAyCH,GACzCE,KAAKE,GAAKP,KAODQ,EAAW,CACtB,IAAIN,EAAY,YCnBX,SAA6BO,GAIlC,IAAMC,EAAOD,EAAQE,cAAc,kBAEnCD,WAAME,iBAAiB,UAAU,SAACC,GAChCA,EAAMC,uBDaR,IAAIZ,EAAY,YEnBX,SAA6BO,GAIlC,IAAMM,EAAWN,EAAQE,cAAc,cAKjCK,GAJMP,EAAQE,cAAc,iBAIrBF,EAAQE,cAAc,0BAEnCI,EAASH,iBAAiB,SAE1B,WACEI,EAAKC,UAAYF,EAASG,MAC1BC,qBAAuBH,SFKzB,IAAId,EAAY,UGrBX,SAA0BO,GAI/B,IAgBIW,EAhBEC,EAAQZ,EAAQE,cAAc,cAO9BW,GANYD,EAAMV,cAAc,SACpBU,EAAMV,cAAc,SAClBU,EAAMV,cAAc,YAIrBF,EAAQE,cAAc,iBAInCY,EAAcD,EAAWX,cAAc,uBAO7CU,EAAMT,iBAAiB,SAKvB,SAAoBC,GAClBA,EAAMW,kBAKN,IAagBC,EAbVC,EAAYb,EAAMc,OAEpBD,EAAUE,UAAUC,SAAS,gBAAkBH,IAAcN,IAC/DA,GAAgBA,EAAaQ,UAAUE,OAAO,yBAC9CJ,EAAUE,UAAUG,IAAI,yBACxBX,EAAeM,GAQDD,EAPLC,GAQNE,UAAUI,OAAO,wBAAwB,GAE9CT,EAAYL,MAAQO,EAAKQ,YACzBR,EAAKS,YAAYZ,GACjBC,EAAYY,YA5Bdb,EAAWV,iBAAiB,UAkC5B,SAAqBC,GACnBA,EAAMC,iBACNM,EAAaa,YAAcV,EAAYL,MACvCE,EAAaQ,UAAUE,OAAO,wBAC9BP,EAAYL,MAAQ,UC3DlBkB,EAAa,IAAIC,I,0GCARC,SAAS3B,cAAc,YAAtC,IDMQ4B,ECLFC,EAAOF,SAAS3B,cAAc,QAC9B8B,EAAeH,SAAS3B,cAAc,mBAU5C,SAAwB6B,EAAMhC,GAC5B,IADsC,EAChCkC,EAAiB,GADe,E,w5BAAA,CAGDlC,GAHC,IAGtC,2BAA+C,eAAlCF,EAAkC,EAAlCA,SAAUF,EAAwB,EAAxBA,SAIfK,EAAU+B,EAAK7B,cAAcL,GAE/BG,IACFL,EAASK,GACTiC,EAAeC,KAAKlC,KAXc,+BATjBmC,CAAeJ,EAAMhC,IDGpC+B,ECDSE,EDCmB9B,cAAc,yBACtCJ,GAAKP,IACOuC,EAAUM,iBAAV,WAA+BN,EAAUhC,GAAzC,SAERuC,SAAQ,SAACC,GACrBX,EAAWY,IAAID,EAAUE,UAAWF,O","file":"scripts/index-69df23b12b8c705c2863.js","sourcesContent":["import { nanoid } from \"nanoid\";\r\n\r\nexport { \r\n  formatISO as formatISODate, \r\n  parse as parseDate,\r\n  parseISO as parseISODate\r\n} from \"date-fns\";\r\n\r\nexport { formatDate, isAllowedTime } from \"./format-date\";\r\n\r\n/**\r\n * @param {number} ms \r\n * @returns {Promise<true>}\r\n */\r\nexport function asyncTimeout(ms) {\r\n  return new Promise((resolve, reject) => {\r\n    setTimeout(() => {\r\n      resolve(true);\r\n    }, ms);\r\n  });\r\n};\r\n\r\nexport function nanoidHTML() {\r\n  return `u${nanoid()}`;\r\n}","import { nanoidHTML } from \"@wp/lib/_index\";\r\nimport { initSectionPreviews } from \"@wp/pages/previews/previews\";\r\nimport { initTextAreaPreview } from \"@wp/pages/previews/editable-textarea\";\r\nimport { initTablePreview } from \"@wp/pages/previews/table-stuff/table-stuff\";\r\n\r\nexport class SiteSection {\r\n  /**\r\n   * @param {string} name \r\n   * @param {(section: HTMLElement) => void} callback \r\n   */\r\n  constructor(name, callback) {\r\n    this.name = name,\r\n    this.callback = callback;\r\n    this.selector = `section.site-section--${name}`;\r\n    this.id = nanoidHTML();\r\n  }\r\n}\r\n\r\n/**\r\n * @type {SiteSection[]}\r\n */\r\nexport const sections = [\r\n  new SiteSection(\"previews\", initSectionPreviews),\r\n  new SiteSection(\"textarea\", initTextAreaPreview),\r\n  new SiteSection(\"tables\", initTablePreview)\r\n]","/**\r\n * @param {HTMLElement} section \r\n */\r\nexport function initSectionPreviews(section) {\r\n  /**\r\n   * @type HTMLFormElement | null\r\n   */\r\n  const form = section.querySelector(\".form-examples\");\r\n\r\n  form?.addEventListener(\"submit\", (event) => {\r\n    event.preventDefault();\r\n  })\r\n}\r\n","import Prism from \"prismjs\";\r\n/**\r\n * @param {HTMLElement} section \r\n */\r\nexport function initTextAreaPreview(section) {\r\n  /**\r\n   * @type {HTMLTextAreaElement}\r\n   */\r\n  const textArea = section.querySelector(\"#code-area\");\r\n  const pre = section.querySelector(\"#highlighting\");\r\n  /**\r\n   * @type {HTMLElement}\r\n   */\r\n  const code = section.querySelector(\"#highlighting-content\");\r\n\r\n  textArea.addEventListener(\"keyup\", update);\r\n\r\n  function update() {\r\n    code.innerText = textArea.value;\r\n    Prism.highlightElement(code);\r\n  }\r\n}\r\n\r\n","/**\r\n * @param {HTMLElement} section \r\n */\r\nexport function initTablePreview(section) {\r\n  /**\r\n   * @type {HTMLTableElement}\r\n   */\r\n  const table = section.querySelector(\"#big-table\");\r\n  const tableHead = table.querySelector(\"thead\");\r\n  const tableBody = table.querySelector(\"tbody\");\r\n  const tableFooter = table.querySelector(\"tbfooter\");\r\n  /**\r\n   * @type {HTMLFormElement}\r\n   */\r\n  const cellEditor = section.querySelector(\".cell-editor\");\r\n  /**\r\n   * @type {HTMLInputElement}\r\n   */\r\n  const editorInput = cellEditor.querySelector(\".cell-editor__input\");\r\n\r\n  /**\r\n   * @type {HTMLTableDataCellElement}\r\n   */\r\n  let selectedCell;\r\n\r\n  table.addEventListener(\"click\", selectCell);\r\n  cellEditor.addEventListener(\"submit\", confirmEdit);\r\n  /**\r\n   * @param {MouseEvent} event\r\n   */\r\n  function selectCell(event) {\r\n    event.stopPropagation();\r\n\r\n    /**\r\n     * @type {HTMLTableDataCellElement}\r\n     */\r\n    const tableCell = event.target;\r\n\r\n    if (tableCell.classList.contains(\"table__cell\") && tableCell !== selectedCell) {\r\n      selectedCell && selectedCell.classList.remove(\"table__cell--selected\");\r\n      tableCell.classList.add(\"table__cell--selected\");\r\n      selectedCell = tableCell;\r\n      editCell(tableCell);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLTableDataCellElement} cell \r\n   */\r\n  function editCell(cell) {\r\n    cell.classList.toggle(\"table__cell--editing\", true);\r\n\r\n    editorInput.value = cell.textContent;\r\n    cell.appendChild(cellEditor);\r\n    editorInput.focus();\r\n  }\r\n\r\n  /**\r\n   * @param {Event} event \r\n   */\r\n  function confirmEdit(event) {\r\n    event.preventDefault();\r\n    selectedCell.textContent = editorInput.value;\r\n    selectedCell.classList.remove(\"table__cell--editing\");\r\n    editorInput.value = \"\";\r\n  }\r\n}\r\n\r\n\r\n\r\n/**\r\n * @param {HTMLTableElement} table \r\n * @param {string} id \r\n */\r\nfunction toggleColumn(table, id) {\r\n\r\n}\r\n\r\n\r\n","import { nanoidHTML } from \"@wp/lib/_index\";\r\n\r\n/**\r\n * @type Map<string, HTMLElement>\r\n */\r\nconst components = new Map();\r\n\r\n/**\r\n * @param {HTMLElement} ancestorElement \r\n */\r\nexport function ComponentFactory(ancestorElement) {\r\n  const container = ancestorElement.querySelector(\".component-container\");\r\n  container.id = nanoidHTML();\r\n  const componentList = container.querySelectorAll(`#${container.id} > *`);\r\n  \r\n  componentList.forEach((component) => {\r\n    components.set(component.className, component)\r\n  });\r\n}\r\n\r\n/**\r\n * @param {string} className \r\n * @returns {HTMLElement}\r\n */\r\nexport function retrieveComponent(className) {\r\n\r\n  if (!components.has(className)) {\r\n    throw new Error(`No component under name '${className}' exists.`);\r\n  }\r\n\r\n  const skeleton = components.get(className);\r\n  const skelCopy = skeleton.cloneNode(true);\r\n\r\n  return skelCopy;\r\n}","import \"@wp/assets/favicon-32x32.png\";\r\nimport \"./index.scss\";\r\nimport { sections, SiteSection } from \"@wp/pages/_index\";\r\nimport { ComponentFactory } from \"./components/_index\";\r\n\r\nconst header = document.querySelector(\".gheader\");\r\nconst main = document.querySelector(\"main\");\r\nconst globalFooter = document.querySelector(\".global-footer\");\r\nconst activeSections = filterSections(main, sections);\r\n\r\nComponentFactory(globalFooter);\r\n\r\n/**\r\n * @param {HTMLElement} main\r\n * @param {SiteSection[]} sections\r\n * @returns {HTMLElement[]}\r\n */\r\nfunction filterSections(main, sections) {\r\n  const activeSections = [];\r\n\r\n  for (const { selector, callback } of sections) {\r\n    /**\r\n     * @type HTMLElement | null\r\n     */\r\n    const section = main.querySelector(selector);\r\n\r\n    if (section) {\r\n      callback(section);\r\n      activeSections.push(section);\r\n    }\r\n  }\r\n\r\n  return activeSections;\r\n}"],"sourceRoot":""}